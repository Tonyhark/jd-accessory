var shareConfig={img:"",url:location.href,desc:"",title:""};!function(){function a(a){return"function"==typeof a}function b(){try{WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",{img_url:window.shareConfig.img,img_width:55,img_height:55,link:a(window.shareConfig.url)?window.shareConfig.url(1):window.shareConfig.url,desc:window.shareConfig.desc,title:window.shareConfig.timeline_title?window.shareConfig.timeline_title:window.shareConfig.title},function(){try{a(window.shareConfig.callback)&&window.shareConfig.callback()}catch(b){}})}),/android/i.test(navigator.userAgent)?WeixinJSBridge.on("menu:share:weibo",function(){WeixinJSBridge.invoke("shareWeibo",{url:a(window.shareConfig.url)?window.shareConfig.url(2):window.shareConfig.url,content:window.shareConfig.title+":"+window.shareConfig.desc},function(){try{a(window.shareConfig.callback)&&window.shareConfig.callback()}catch(b){}})}):WeixinJSBridge.on("menu:share:weibo",function(){WeixinJSBridge.invoke("shareWeibo",{img_url:window.shareConfig.img,img_width:55,img_height:55,link:a(window.shareConfig.url)?window.shareConfig.url(2):window.shareConfig.url,desc:window.shareConfig.desc,title:window.shareConfig.title},function(){try{a(window.shareConfig.callback)&&window.shareConfig.callback()}catch(b){}})}),WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",{img_url:window.shareConfig.img,img_width:55,img_height:55,link:a(window.shareConfig.url)?window.shareConfig.url(3):window.shareConfig.url,desc:window.shareConfig.desc,title:window.shareConfig.title},function(){try{a(window.shareConfig.callback)&&window.shareConfig.callback()}catch(b){}})}),a(window.shareConfig.readycallback)&&window.shareConfig.readycallback()}catch(b){}}"object"==typeof window.WeixinJSBridge&&a(window.WeixinJSBridge.invoke)?b():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",b,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",b),document.attachEvent("onWeixinJSBridgeReady",b))}();